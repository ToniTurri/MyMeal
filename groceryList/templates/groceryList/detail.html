{% extends "base.html" %}

{% block content %}

<article id="small-panel">
    <header>
        <h3>{{ grocerylist.name }}</h3>
    </header>

    <ul>
    {% for fooditem in grocerylist.fooditems.all %}
    
    <p><div data-role="item_name">
    <i class="fa fa-plus-circle" aria-hidden="true" data-action="plus" data-list_id="{{ grocerylist.id }}" data-food_item="{{ fooditem.name }}" ></i>
        <i class="fa fa-minus-circle" aria-hidden="true" data-action="minus" data-list_id="{{ grocerylist.id }}" data-food_item="{{ fooditem.name }}" ></i>
        {{ fooditem.name }}: 
        <span data-role="item_qty">{{ fooditem.quantity }}</span>
        
    </div></p>
    
    {% endfor %}
    </ul>

    {% if messages %}
    <ul class="messages">
        {% for message in messages %}
            <strong>
            <p{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}
            </p></strong>
        {% endfor %}
    </ul>
    {% endif %}

    <form action="{% url 'groceryList:add_to_list' pk=grocerylist.id %}" method="post">
    {% csrf_token %}
        {{ item_form.as_p }} <br>
        <input type="submit" value="Submit" />
    </form>

    <a href="{% url 'groceryList:index' %}">View all grocery lists</a>

</article>

{% endblock %}