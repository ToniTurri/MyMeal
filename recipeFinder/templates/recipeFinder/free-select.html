{% extends "base.html" %}

{% block content %}

<article id="small-panel">

  <h3>Type in the ingredients that you want to make a recipe with.</h3>

  <form action="{% url 'recipeFinder:free-select' %}" method="post">
    {% csrf_token %}

    {{ ingredient_formset.management_form }}

    {% for ingredient_form in ingredient_formset %}
        <div class="ingredient-formset">
            <p>
              <p>Ingredient:</p>
                {{ ingredient_form.value }}
                {% if ingredient_form.value.errors %}
                    {% for error in ingredient_form.value.errors %}
                        {{ error|escape }}
                    {% endfor %}
                {% endif %}
            </p>
        </div>
    {% endfor %}

    <input type="submit" value="Search!" /><br/><br/>
  </form>
</article>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="/static/scripts/jquery.formset.js"></script>
<script>
    $('.ingredient-formset').formset({
        addText: 'Add Ingredient',
        deleteText: 'Remove Ingredient'
    });
</script>

{% endblock %}
